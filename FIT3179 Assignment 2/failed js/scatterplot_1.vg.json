{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "title": "Scatterplot",
    "data": {
        "url": "data/FIT3179_A2_Countries.csv"
    },
    "width": 600,
    "height": 250,
    "params": [
        {
            "name": "brush",
            "select": "interval",
            "value": {
                "x": [55,160],
                "y": [13,37]
            }
        },
        {
            "name": "paintbrush",
            "select": {"type": "point", "on": "mouseover", "nearest": true}
        },
        {
            "name": "Region_selection",
            "select": {"type": "point", "fields": ["region"]},
            "bind": "legend"
            },
        {
            "name": "Year_selection",
            "bind": {
                "input": "select",
                "options": [
                    null,"2000","2001","2002","2003","2004","2005","2006","2007","2008","2009","2010","2011","2012","2013","2014","2015","2016"
                ],
                "labels": [
                    "Show All","2000","2001","2002","2003","2004","2005","2006","2007","2008","2009","2010","2011","2012","2013","2014","2015","2016"
                ],
                "name": "Year Selection: "
            }
        }
    ],
    "transform": [
        {
            "filter": "Region_selection == null || datum.region == Region_selection"
        },
        {
            "filter": "Year_selection == null || datum.year == Year_selection"
        }
    ],
    "mark": "point",
    "encoding": {
        "x": {
            "field": "gdp_per_capita",
            "type": "quantitative",
            "title": "GDP per Capita",
            "scale": {
                "domain": [
                    -10,
                    110000
                ]
            }
        },
        "y": {
            "field": "suicide_rate",
            "type": "quantitative",
            "title": "Suicide Rate",
            "scale": {
                "domain": [
                    -5,
                    50
                ]
            }
        },
        "color": {
            "condition": {
                "param": "brush",
                "field": "region",
                "title": "Region",
                "type": "nominal",
                "scale": {
                    "domain": [
                        "Western Europe",
                        "Eastern Europe",
                        "Southern Europe",
                        "Northern Europe"
                    ],
                    "range": [
                        "#e41a1c",
                        "#984ea3",
                        "#ff7f00",
                        "#a6cee3"
                    ]
                }
            },
            "value": "grey"
        },
        "size": {
            "condition": {"param": "paintbrush", "field": "population+200", "type": "quantitative"},
            "field": "population",
            "title": "Population",
            "type": "quantitative"
        },
        "tooltip": [
            {"field": "country", "type": "nominal"},
            {"field": "region", "type": "nominal"},
            {"field": "year", "type": "nominal"},
            {"field": "suicide_rate", "type": "quantitative", "format": ".2f"},
            {"field": "gdp_per_capita", "type": "quantitative"},
            {"field": "population", "type": "quantitative"}
          ]
    }
}